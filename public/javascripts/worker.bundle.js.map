{"version":3,"sources":["webpack:///webpack/bootstrap cb23367fe7cc01868f7c?6e52","webpack:///./src/worker.js"],"names":["console","log","CACHE_VERSION","cacheName","version","openCache","storage","cache_name","Promise","all","open","URLS_TO_CACHE","cacheRequests","cache","addAll","concat","clearOldCaches","keys","then","filter","key","map","delete","refreshCache","caches","_","self","addEventListener","event","request","url","respondWith","fetch","match","response","dir"],"mappings":"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","file":"./public/javascripts/worker.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb23367fe7cc01868f7c","// The SW will be shutdown when not in use to save memory,\n// be aware that any global state is likely to disappear\nconsole.log(\"SW startup\");\n\nlet CACHE_VERSION = __VERSION__;\n\nfunction cacheName(version) {\n  return `request-cache-${CACHE_VERSION}`;\n}\n\nfunction openCache(storage, cache_name) {\n  console.log(\"Opening cache\");\n  return Promise.all([storage, storage.open(cacheName(CACHE_VERSION)), cache_name]);\n}\n\nconst URLS_TO_CACHE = [\n  'https://www.exchangejs.com/',\n  'https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css',\n  'https://maps.google.com/maps/api/staticmap?center=53.5461361,-113.4991690&zoom=15&size=240x180&maptype=roadmap&sensor=false&language=&markers=color:green|label:none|53.5461361,-113.4991690',\n  'https://netdna.bootstrapcdn.com/bootstrap/3.0.0/fonts/glyphicons-halflings-regular.woff'\n];\n\nfunction cacheRequests(cache) {\n  console.log(\"Caching requests\");\n  return cache.addAll(URLS_TO_CACHE.concat(__FILES_TO_CACHE__));\n}\n\nfunction clearOldCaches(storage, cache_name) {\n  console.log(\"Clearing keys\");\n  return storage.keys().\n    then((keys) => keys.filter(key => key !== cache_name)).\n    then((keys) => Promise.all(keys.map(key => storage.delete(key))));\n};\n\nfunction refreshCache() {\n  console.log(\"Refreshing cache..\");\n  return openCache(caches, cacheName(CACHE_VERSION)).\n    then(([storage, cache, cache_name]) => cacheRequests(cache).then((_) => [storage, cache_name])).\n    then(([storage, cache_name]) => clearOldCaches(storage, cache_name));\n}\n\nself.addEventListener('install', function(event) {\n  console.log(\"SW installed\");\n\n  refreshCache();\n});\n\nself.addEventListener('activate', function(event) {\n  console.log(\"SW activated\");\n});\n\nself.addEventListener('fetch', function(event) {\n  console.log(\"Caught a fetch!\" + event.request.url);\n\n  if (__CACHE_ENABLED__) {\n    event.respondWith(fetch(event.request));\n  } else {\n    event.respondWith(\n      caches.match(event.request).then(function(response) {\n        return response || fetch(event.request);\n      })\n    );\n  }\n});\n\nself.addEventListener('message', function(event) {\n  console.dir(event);\n  console.log('Pong!');\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker.js"],"sourceRoot":""}